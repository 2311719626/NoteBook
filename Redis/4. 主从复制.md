# 主从复制

**第一次同步**

1. 建立连接、协商同步
2. 数据同步
3. 新操作同步

**命令传播**

- 完成第一次同步后双方维护 TCP 长连接

**小问题**

> 如果有很多从节点需要辅助主节点数据，那么生成 RDB 以及命令传播的压力会积累在主节点上，容易影响主线程任务。

=> 分级机制

![多节点](https://cdn.xiaolincoding.com//mysql/other/4d850bfe8d712d3d67ff13e59b919452.png)