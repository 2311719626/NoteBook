# 持久化

- AOF
  - 日志
- RDB
  - 快照
- 混合持久化

**AOF**

- 先执行命令 后写入日志
  - 避免检查开销
  - 不阻塞当前写操作的执行
- 写回硬盘
  - `Always`
  - `Everysec`
  - `No`
- 日志过大
  - `AOF` **重写**

**RDB**

- **写时复制技术**
  - 主线程写时保留一份副本
  - 后台线程使用副本数据
